import React from 'react';
import { useDocumentOnce } from 'react-firebase-hooks/firestore';
import { db } from '../util/firebase';

const PlayerDetail = ({ id, computer }) => {

  if (computer) {
    return (
      <>
        <div className="Game-player">
          <svg width="30px" height="30px" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
            <g>
              <path d="m45.289 65.945h3.6836l-5.0078 4.832c-0.91797 0.88672-0.94531 2.3555-0.058594 3.2734 0.44141 0.45703 1.0312 0.70703 1.668 0.70703 0.60156 0 1.1758-0.23047 1.6055-0.64844l9.1367-8.8164c0.68359-0.66016 0.89453-1.6523 0.53906-2.5352-0.35547-0.87891-1.1992-1.4492-2.1484-1.4492l-4.2578 0.003906 4.375-4.918c0.41016-0.46094 0.61719-1.0586 0.58203-1.6758s-0.3125-1.1836-0.77344-1.5938c-0.42969-0.38281-0.96875-0.58594-1.5352-0.58594-0.046875 0-0.09375 0-0.14062 0.003907-0.61719 0.035156-1.1836 0.3125-1.5938 0.77344l-7.8047 8.7734c-0.60547 0.67969-0.75781 1.6562-0.38281 2.4883s1.2031 1.3672 2.1133 1.3672z" />
              <path d="m46.152 28.219c0-2.8398-2.3125-5.1523-5.1523-5.1523s-5.1523 2.3125-5.1523 5.1523 2.3125 5.1523 5.1523 5.1523 5.1523-2.3125 5.1523-5.1523zm-7.957 0c0-1.5469 1.2578-2.8047 2.8047-2.8047s2.8047 1.2578 2.8047 2.8047-1.2578 2.8047-2.8047 2.8047-2.8047-1.2578-2.8047-2.8047z" />
              <path d="m59 23.066c-2.8398 0-5.1523 2.3125-5.1523 5.1523s2.3125 5.1523 5.1523 5.1523 5.1523-2.3125 5.1523-5.1523-2.3125-5.1523-5.1523-5.1523zm0 7.957c-1.5469 0-2.8047-1.2578-2.8047-2.8047s1.2578-2.8047 2.8047-2.8047 2.8047 1.2578 2.8047 2.8047-1.2578 2.8047-2.8047 2.8047z" />
              <path d="m88.559 66.961l-0.14453-0.035157-0.039062-0.14453c-1.7188-6.3008-6.1133-11.516-12.055-14.305l-0.14453-0.066406v-11.652c0-6.9922-2.7227-13.566-7.668-18.508-4.5664-4.5664-10.621-7.2734-17.051-7.625l-0.23438-0.011719v-2.9062l0.14844-0.066406c1.1992-0.53906 1.9727-1.7344 1.9727-3.043 0-1.8438-1.5-3.3438-3.3438-3.3438s-3.3438 1.5-3.3438 3.3438c0 1.3086 0.77344 2.5039 1.9727 3.043l0.14844 0.066406v2.9062l-0.23438 0.011719c-6.4297 0.35156-12.484 3.0586-17.051 7.6211-4.9453 4.9453-7.668 11.516-7.668 18.508v11.656l-0.14453 0.066406c-5.9453 2.7891-10.34 8.0039-12.059 14.309l-0.039063 0.14453-0.14453 0.035156c-3.5742 0.84375-6.168 4.2539-6.168 8.1172 0 1.0352 0.84375 1.8789 1.8789 1.8789 1.0352 0 1.8828-0.84375 1.8828-1.8789 0-2.5156 1.8516-4.5586 4.125-4.5586s4.125 2.0469 4.125 4.5586c0 1.0352 0.84375 1.8789 1.8789 1.8789s1.8828-0.84375 1.8828-1.8789c0-3.5664-2.1562-6.7305-5.3711-7.8789l-0.23047-0.082031 0.074219-0.23047c1.3594-4.1484 4.1758-7.7031 7.9258-10.004l0.38281-0.23438v17.457c0 4.0039 1.6797 7.8633 4.6016 10.594l6.5938 6.1523c2.6914 2.5156 6.207 3.8984 9.8906 3.8984h10.184c3.6836 0 7.1953-1.3867 9.8906-3.8984l6.5938-6.1523c2.9258-2.7305 4.6016-6.5938 4.6016-10.594l-0.003907-17.457 0.38281 0.23438c3.7461 2.3008 6.5625 5.8555 7.9219 10l0.074219 0.23047-0.23047 0.082031c-3.2109 1.1484-5.3672 4.3125-5.3672 7.8789 0 1.0352 0.84375 1.8789 1.8828 1.8789 1.0352 0 1.8789-0.84375 1.8789-1.8789 0-2.5156 1.8516-4.5586 4.125-4.5586s4.125 2.0469 4.125 4.5586c0 1.0352 0.84375 1.8789 1.8828 1.8789 1.0352 0 1.8789-0.84375 1.8789-1.8789 0-3.8633-2.5977-7.2734-6.1719-8.1172zm-45.516 23.859c-2.0508-0.35937-3.9375-1.3008-5.457-2.7188l-6.5938-6.1523c-0.22266-0.21094-0.45313-0.44531-0.69531-0.72266l-0.36719-0.41406h9.6797l3.8672 10.086zm9.6055 0.16797h-5.2969l-3.9023-10.18h13.102zm17.055-9.7617c-0.24609 0.27734-0.47266 0.51172-0.69531 0.72266l-6.5938 6.1523c-1.5195 1.418-3.4062 2.3594-5.457 2.7188l-0.43359 0.078126 3.8672-10.086h9.6797zm2.7109-7.1211c0 0.89453-0.12891 1.8242-0.37891 2.7617l-0.050781 0.1875-43.973-0.003907-0.050781-0.1875c-0.25-0.9375-0.37891-1.8633-0.37891-2.7617l0.003907-22.887h44.828zm0-26.652h-44.828v-6.6953c0-5.9883 2.332-11.617 6.5664-15.848 4.2344-4.2344 9.8633-6.5664 15.848-6.5664 5.9883 0 11.617 2.332 15.848 6.5664 4.2344 4.2344 6.5664 9.8633 6.5664 15.848z" />
              <path d="m55.734 35.445h-11.469c-2.4102 0-4.3711 1.9609-4.3711 4.3711s1.9609 4.3711 4.3711 4.3711h11.469c2.4102 0 4.3711-1.9609 4.3711-4.3711s-1.9609-4.3711-4.3711-4.3711zm-9.8438 6.3984h-1.625c-1.1172 0-2.0234-0.90625-2.0234-2.0234 0-1.1172 0.90625-2.0234 2.0234-2.0234h1.625zm5.8711 0h-3.5273v-4.0469h3.5273zm3.9727 0h-1.625v-4.0469h1.625c1.1172 0 2.0234 0.90625 2.0234 2.0234 0 1.1133-0.90625 2.0234-2.0234 2.0234z" />
            </g>
          </svg>
          Computer
        </div>
      </>
    )
  }

  const [snapshot, loading, error] = useDocumentOnce(db.doc(`players/${id}`));
  const data = snapshot ? snapshot.data() : false;

  return (
    <>
      {data &&
        <div className="Game-player">
          {data.avatar && <img src={data.avatar} />}
          {data.displayName}
        </div>
      }
    </>
  );
}

export default PlayerDetail;
